-- MySQL Script generated by MySQL Workbench
-- Wed Dec  8 08:57:42 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema gdfS
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `gdfS` ;

-- -----------------------------------------------------
-- Schema gdfS
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `gdfS` DEFAULT CHARACTER SET utf8 ;
USE `gdfS` ;

-- -----------------------------------------------------
-- Table `gdfS`.`COUNTRY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`COUNTRY` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CODE` CHAR(2) NOT NULL,
  `NAME` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`USER_ADDRESS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`USER_ADDRESS` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ADDRESS_LINE` VARCHAR(45) NOT NULL,
  `POST_CODE` VARCHAR(15) NOT NULL,
  `STATE` VARCHAR(45) NOT NULL,
  `CITY` VARCHAR(45) NOT NULL,
  `COUNTRY_ID` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_USER_ADDRESS_COUNTRY_idx` (`COUNTRY_ID` ASC) VISIBLE,
  CONSTRAINT `fk_USER_ADDRESS_COUNTRY`
    FOREIGN KEY (`COUNTRY_ID`)
    REFERENCES `gdfS`.`COUNTRY` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`USER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`USER` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `FIRST_NAME` VARCHAR(45) NOT NULL,
  `LAST_NAME` VARCHAR(45) NOT NULL,
  `EMAIL` VARCHAR(75) NOT NULL,
  `GENDER` VARCHAR(6) NOT NULL,
  `DOB` DATE NULL,
  `USER_ADDRESS_ID` INT NOT NULL,
  `PHONE` VARCHAR(15) NULL,
  `MOBILE` VARCHAR(15) NULL,
  `PROFILE_FILE` VARCHAR(45) NULL,
  `IMAGE` BLOB NULL,
  `CREATED_ON` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATED_ON` TIMESTAMP NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_USER_USER_ADDRESS1_idx` (`USER_ADDRESS_ID` ASC) VISIBLE,
  CONSTRAINT `fk_USER_USER_ADDRESS1`
    FOREIGN KEY (`USER_ADDRESS_ID`)
    REFERENCES `gdfS`.`USER_ADDRESS` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`DEEDER_ADDRESS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`DEEDER_ADDRESS` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ADDRESS_LINE` VARCHAR(75) NOT NULL,
  `POST_CODE` VARCHAR(10) NOT NULL,
  `CITY` VARCHAR(45) NOT NULL,
  `STATE` VARCHAR(45) NOT NULL,
  `COUNTRY_ID` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_DEEDER_ADDRESS_COUNTRY1_idx` (`COUNTRY_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DEEDER_ADDRESS_COUNTRY1`
    FOREIGN KEY (`COUNTRY_ID`)
    REFERENCES `gdfS`.`COUNTRY` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`DEEDER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`DEEDER` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `FIRSTNAME` VARCHAR(45) NOT NULL,
  `LASTNAME` VARCHAR(45) NOT NULL,
  `GENDER` VARCHAR(6) NOT NULL,
  `DOB` DATE NOT NULL,
  `EMAIL` VARCHAR(100) NOT NULL,
  `PHONE` VARCHAR(15) NULL,
  `MOBILE` VARCHAR(15) NULL,
  `ABOUT` VARCHAR(450) NOT NULL,
  `PROFILE_FILE` VARCHAR(45) NOT NULL,
  `IMAGE` BLOB NOT NULL,
  `CONFIRMED` TINYINT NOT NULL,
  `NOMINATED` TINYINT NULL,
  `CREATED_ON` TIMESTAMP NOT NULL,
  `UPDATED_ON` TIMESTAMP NOT NULL,
  `DEEDER_ADDRESS_ID` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `fk_DEEDER_DEEDER_ADDRESS1_idx` (`DEEDER_ADDRESS_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DEEDER_DEEDER_ADDRESS1`
    FOREIGN KEY (`DEEDER_ADDRESS_ID`)
    REFERENCES `gdfS`.`DEEDER_ADDRESS` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`ACCESS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`ACCESS` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `EMAIL` VARCHAR(50) NOT NULL,
  `PASSWORD` VARCHAR(50) NOT NULL,
  `ACCESS_TYPE` VARCHAR(10) NOT NULL,
  `FAILED_ATTEMPTS` INT NOT NULL DEFAULT 0,
  `CREATED_ON` TIMESTAMP NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`ON_HOLD`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`ON_HOLD` (
  `EMAIL` VARCHAR(50) NOT NULL,
  `ACCESS_TYPE` VARCHAR(10) NOT NULL,
  `PROFILE_FILE` VARCHAR(45) NOT NULL,
  `IMAGE` BLOB NOT NULL,
  `NAME` VARCHAR(45) NULL,
  `COUNTRY_CODE` VARCHAR(2) NULL,
  `ENTITY_ID` INT NULL,
  PRIMARY KEY (`EMAIL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`DEEDER_NOMINATION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`DEEDER_NOMINATION` (
  `DEEDER_ID` INT NOT NULL,
  `USER_ID` INT NOT NULL,
  PRIMARY KEY (`DEEDER_ID`, `USER_ID`),
  INDEX `fk_DEEDER_has_USER_USER1_idx` (`USER_ID` ASC) VISIBLE,
  INDEX `fk_DEEDER_has_USER_DEEDER1_idx` (`DEEDER_ID` ASC) VISIBLE,
  CONSTRAINT `fk_DEEDER_has_USER_DEEDER1`
    FOREIGN KEY (`DEEDER_ID`)
    REFERENCES `gdfS`.`DEEDER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DEEDER_has_USER_USER1`
    FOREIGN KEY (`USER_ID`)
    REFERENCES `gdfS`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `gdfS`.`EMAIL_MESSAGES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gdfS`.`EMAIL_MESSAGES` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `TEMPLATE` VARCHAR(45) NOT NULL,
  `MESSAGE_TITLE` VARCHAR(125) NOT NULL,
  `TEXT` VARCHAR(500) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
